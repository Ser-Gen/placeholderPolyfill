/*
 * PlaceHolder Polyfill
 * из-за метода .on() требуется jQuery >1.7
 *
 * Показывает текстовые заглушки в браузерах, не поддерживающих их (ИЕ<10, ФФ<4, О<11); не исполняется в поддерживающих
 *
 * параметры:
 * color — цвет плейсхолдера
 *
 * вызов: 
 * $(селектор).placeholderPolyfill();
 *
 * 09.11.2012
 */
(function(b){var h={color:"#a9a9a9"},c;b.fn.placeholderPolyfill=function(e){function d(a){var b=a.attr("placeholder");a.val()===b?a.css("color",c.color):""===a.val().replace(/\s+/,"")&&(a.val(b),a.css("color",c.color))}function f(a){a.val()==a.attr("placeholder")&&(a=a[0],a.setSelectionRange?(a.focus(),a.setSelectionRange(0,0)):a.createTextRange&&(a=a.createTextRange(),a.move("character",0),a.select()))}function g(a){d(a);a.focus(function(){var b=a.attr("placeholder");a.val()===b&&f(a);var c=!0;a.keydown(function(){c&& a.val()===a.attr("placeholder")&&(a.val(""),a.css("color",""),c=!1);setTimeout(function(){!c&&0===a.val().length&&(d(a),f(a),c=!0)},0)})});a.blur(function(){d(a)});a.click(function(){f(a)});b(a).on("paste",function(){a.val(" ");a.select();a.css("color","")});b(a).on("cut",function(){setTimeout(function(){d(a)},0)})}c=b.extend({},h,c,e);var e=document.createElement("input"),i=document.createElement("textarea");"undefined"===typeof e.placeholder&&b(this).each(function(){b(this).is("input")&&g(b(this))}); "undefined"===typeof i.placeholder&&b(this).each(function(){b(this).is("textarea")&&g(b(this))});return this}})(jQuery);